{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\n\n// Define the Todo and the initial state types\n\nconst initialState = {\n  todos: [],\n  loading: false,\n  error: null\n};\n\n// Use createSlice to generate the reducer and actions\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    getTodosStart(state) {\n      state.loading = true;\n      state.error = null;\n    },\n    getTodosSuccess(state, action) {\n      state.todos = action.payload;\n      state.loading = false;\n    },\n    getTodosFailure(state, action) {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\n\n// Export actions\nexport const {\n  getTodosStart,\n  getTodosSuccess,\n  getTodosFailure\n} = todosSlice.actions;\n\n// Thunk action to fetch todos\nexport const fetchTodos = signal => async dispatch => {\n  try {\n    dispatch(getTodosStart());\n    const response = await fetch('https://jsonplaceholder.typicode.com/todos', {\n      signal\n    }); // Add the signal to the fetch call\n    const data = await response.json();\n    dispatch(getTodosSuccess(data));\n  } catch (error) {\n    if (error instanceof Error) {\n      if (error.name !== 'AbortError') {\n        dispatch(getTodosFailure(error.message));\n      }\n    }\n  }\n};\n\n// Export reducer\nexport default todosSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","todos","loading","error","todosSlice","name","reducers","getTodosStart","state","getTodosSuccess","action","payload","getTodosFailure","actions","fetchTodos","signal","dispatch","response","fetch","data","json","Error","message","reducer"],"sources":["/Users/robvasquez/projects/learning/hackerRank/react-sr/src/features/todos/todosSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport {AppThunk} from \"../../store/store\";\n\n// Define the Todo and the initial state types\ninterface Todo {\n  userId: number;\n  id: number;\n  title: string;\n  completed: boolean;\n}\n\ninterface TodosState {\n  todos: Todo[];\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: TodosState = {\n  todos: [],\n  loading: false,\n  error: null,\n};\n\n// Use createSlice to generate the reducer and actions\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    getTodosStart(state) {\n      state.loading = true;\n      state.error = null;\n    },\n    getTodosSuccess(state, action: PayloadAction<Todo[]>) {\n      state.todos = action.payload;\n      state.loading = false;\n    },\n    getTodosFailure(state, action: PayloadAction<string>) {\n      state.error = action.payload;\n      state.loading = false;\n    },\n  },\n});\n\n// Export actions\nexport const { getTodosStart, getTodosSuccess, getTodosFailure } = todosSlice.actions;\n\n// Thunk action to fetch todos\nexport const fetchTodos = (signal: AbortSignal): AppThunk => async (dispatch) => {\n  try {\n    dispatch(getTodosStart());\n    const response = await fetch('https://jsonplaceholder.typicode.com/todos', { signal }); // Add the signal to the fetch call\n    const data: Todo[] = await response.json();\n    dispatch(getTodosSuccess(data));\n  } catch (error) {\n    if (error instanceof Error) {\n      if (error.name !== 'AbortError') {\n        dispatch(getTodosFailure(error.message));\n      }\n    }\n  }\n};\n\n// Export reducer\nexport default todosSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;;AAG7D;;AAcA,MAAMC,YAAwB,GAAG;EAC/BC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,UAAU,GAAGL,WAAW,CAAC;EAC7BM,IAAI,EAAE,OAAO;EACbL,YAAY;EACZM,QAAQ,EAAE;IACRC,aAAaA,CAACC,KAAK,EAAE;MACnBA,KAAK,CAACN,OAAO,GAAG,IAAI;MACpBM,KAAK,CAACL,KAAK,GAAG,IAAI;IACpB,CAAC;IACDM,eAAeA,CAACD,KAAK,EAAEE,MAA6B,EAAE;MACpDF,KAAK,CAACP,KAAK,GAAGS,MAAM,CAACC,OAAO;MAC5BH,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB,CAAC;IACDU,eAAeA,CAACJ,KAAK,EAAEE,MAA6B,EAAE;MACpDF,KAAK,CAACL,KAAK,GAAGO,MAAM,CAACC,OAAO;MAC5BH,KAAK,CAACN,OAAO,GAAG,KAAK;IACvB;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAEK,aAAa;EAAEE,eAAe;EAAEG;AAAgB,CAAC,GAAGR,UAAU,CAACS,OAAO;;AAErF;AACA,OAAO,MAAMC,UAAU,GAAIC,MAAmB,IAAe,MAAOC,QAAQ,IAAK;EAC/E,IAAI;IACFA,QAAQ,CAACT,aAAa,CAAC,CAAC,CAAC;IACzB,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAA4C,EAAE;MAAEH;IAAO,CAAC,CAAC,CAAC,CAAC;IACxF,MAAMI,IAAY,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAC1CJ,QAAQ,CAACP,eAAe,CAACU,IAAI,CAAC,CAAC;EACjC,CAAC,CAAC,OAAOhB,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYkB,KAAK,EAAE;MAC1B,IAAIlB,KAAK,CAACE,IAAI,KAAK,YAAY,EAAE;QAC/BW,QAAQ,CAACJ,eAAe,CAACT,KAAK,CAACmB,OAAO,CAAC,CAAC;MAC1C;IACF;EACF;AACF,CAAC;;AAED;AACA,eAAelB,UAAU,CAACmB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}